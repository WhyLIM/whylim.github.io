{
    "version": "https://jsonfeed.org/version/1",
    "title": "Being on sea, sail; being on land, settle. • All posts by \"shokax\" category",
    "description": "",
    "home_page_url": "https://whylim.github.io",
    "items": [
        {
            "id": "https://whylim.github.io/2024/05/27/shokax%E9%85%8D%E7%BD%AE/",
            "url": "https://whylim.github.io/2024/05/27/shokax%E9%85%8D%E7%BD%AE/",
            "title": "Hexo + ShokaX 博客搭建",
            "date_published": "2024-05-26T16:00:00.000Z",
            "content_html": "<h1 id=\"hexo-shokax-博客搭建\"><a class=\"anchor\" href=\"#hexo-shokax-博客搭建\">#</a> Hexo + ShokaX 博客搭建</h1>\n<blockquote>\n<p>参考：</p>\n<ol>\n<li><a href=\"https://docs.kaitaku.xyz/guide/\">官方文档</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/681477968\">知乎用户</a></li>\n</ol>\n</blockquote>\n<h2 id=\"前置准备\"><a class=\"anchor\" href=\"#前置准备\">#</a> 前置准备</h2>\n<ul>\n<li>\n<p>安装 Node.js：Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境，用于构建高性能、可扩展的服务器端和网络应用程序。</p>\n<ul>\n<li>Windows 用户在<a href=\"https://nodejs.org/en\">官网</a>下载安装即可</li>\n<li>Linux 用户则可以使用 nvm 来管理 Node.js 的版本，参考<a href=\"https://github.com/nvm-sh/nvm#installing-and-updating\">这个仓库</a></li>\n</ul>\n</li>\n<li>\n<p>安装 Git：Git 是一个分布式版本控制系统，能够高效地处理项目的版本管理和代码协作。</p>\n<ul>\n<li>Windows 用户在<a href=\"https://git-scm.com/\">官网</a>下载安装即可</li>\n<li>Linux 用户可以直接使用  <code>sudo apt install git</code>  安装</li>\n</ul>\n</li>\n<li>\n<p>检测是否安装成功。在终端中分别输入以下命令，看是否获得类似的输出：</p>\n<ul>\n<li>\n<p>node -v</p>\n<blockquote>\n<p>v20.11.1</p>\n</blockquote>\n</li>\n<li>\n<p>git</p>\n<blockquote>\n<p>usage: git [-v | --version] [-h | --help] [-C  <code>&lt;path&gt;</code> ] [-c  <code>&lt;name&gt;</code> = <code>&lt;value&gt;</code> ]<br />\n[--exec-path[= <code>&lt;path&gt;</code> ]] [--html-path] [--man-path] [--info-path]<br />\n[-p | --paginate | -P | --no-pager] [--no-replace-objects] [--bare]<br />\n[--git-dir= <code>&lt;path&gt;</code> ] [--work-tree= <code>&lt;path&gt;</code> ] [--namespace= <code>&lt;name&gt;</code> ]<br />\n[--config-env= <code>&lt;name&gt;</code> = <code>&lt;envvar&gt;</code> ]  <code>&lt;command&gt;</code>  [ <code>&lt;args&gt;</code> ]</p>\n<p>These are common Git commands used in various situations:</p>\n<p>start a working area (see also: git help tutorial)<br />\nclone     Clone a repository into a new directory<br />\ninit      Create an empty Git repository or reinitialize an existing one</p>\n<p>work on the current change (see also: git help everyday)<br />\nadd       Add file contents to the index<br />\nmv        Move or rename a file, a directory, or a symlink<br />\nrestore   Restore working tree files<br />\nrm        Remove files from the working tree and from the index</p>\n<p>examine the history and state (see also: git help revisions)<br />\nbisect    Use binary search to find the commit that introduced a bug<br />\ndiff      Show changes between commits, commit and working tree, etc<br />\ngrep      Print lines matching a pattern<br />\nlog       Show commit logs<br />\nshow      Show various types of objects<br />\nstatus    Show the working tree status</p>\n<p>grow, mark and tweak your common history<br />\nbranch    List, create, or delete branches<br />\ncommit    Record changes to the repository<br />\nmerge     Join two or more development histories together<br />\nrebase    Reapply commits on top of another base tip<br />\nreset     Reset current HEAD to the specified state<br />\nswitch    Switch branches<br />\ntag       Create, list, delete or verify a tag object signed with GPG</p>\n<p>collaborate (see also: git help workflows)<br />\nfetch     Download objects and refs from another repository<br />\npull      Fetch from and integrate with another repository or a local branch<br />\npush      Update remote refs along with associated objects</p>\n<p>'git help -a' and 'git help -g' list available subcommands and some<br />\nconcept guides. See 'git help  <code>&lt;command&gt;</code> ' or 'git help  <code>&lt;concept&gt;</code> '<br />\nto read about a specific subcommand or concept.<br />\nSee 'git help git' for an overview of the system.</p>\n</blockquote>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"安装-hexo\"><a class=\"anchor\" href=\"#安装-hexo\">#</a> 安装 Hexo</h2>\n<h3 id=\"什么是-hexo\"><a class=\"anchor\" href=\"#什么是-hexo\">#</a> 什么是 Hexo？</h3>\n<p>Hexo 是一个快速、简单且强大的<strong>静态博客框架</strong>。它通过 Markdown 文件生成静态网页，并支持多种插件和主题，使用户能够轻松创建和管理个人博客或网站。</p>\n<h3 id=\"题外话\"><a class=\"anchor\" href=\"#题外话\">#</a> 题外话</h3>\n<p>在 Node.js 中，我们可以使用  <code>npm (Node Package Manager)</code>  来安装、管理和共享 JavaScript 代码包，但是其：</p>\n<ul>\n<li>较早版本的性能和速度较慢。</li>\n<li>在处理重复依赖时效率不高。</li>\n</ul>\n<p>因此出现了  <code>yarn</code>  和  <code>pnpm</code> ：</p>\n<ul>\n<li><code>yarn</code>  是由 Facebook 开发的一种新的包管理工具，旨在解决 npm 的一些性能和一致性问题。</li>\n<li><code>pnpm</code>  是一个高效的包管理工具，注重磁盘空间利用和安装速度，采用了独特的链接方式来管理依赖。</li>\n</ul>\n<p>出于速度与性能的考虑，更推荐使用  <code>pnpm</code> 。</p>\n<h3 id=\"hexo-的安装\"><a class=\"anchor\" href=\"#hexo-的安装\">#</a> Hexo 的安装</h3>\n<p>要使用  <code>pnpm</code>  安装  <code>hexo-cli</code> ，请按照以下步骤操作：</p>\n<ol>\n<li>\n<p>配置中国大陆的镜像源（如淘宝）：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> registry https://registry.npmjs.org/</pre></td></tr></table></figure></li>\n<li>\n<p>通过以下命令安装  <code>pnpm</code> ：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> <span class=\"token function\">pnpm</span></pre></td></tr></table></figure><p>其中， <code>-g</code>  参数表示  <code>global</code> ，意为全局安装，此时 pnpm 包会被安装在我们的 Node.js 安装目录的  <code>node_modules</code>  文件夹中。</p>\n</li>\n<li>\n<p>使用  <code>pnpm</code>  安装  <code>hexo-cli</code> ：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">-g</span> hexo-cli</pre></td></tr></table></figure></li>\n</ol>\n<p>这条命令会全局安装  <code>hexo-cli</code> ，使你可以在终端中使用  <code>hexo</code>  命令来管理你的 Hexo 博客。</p>\n<h3 id=\"站点生成\"><a class=\"anchor\" href=\"#站点生成\">#</a> 站点生成</h3>\n<p>现在我们来生成个人博客项目，例如我们的项目名叫做  <code>WhyLIM-shokax</code></p>\n<p>我们可以有两种方法来生成这个项目：</p>\n<ol>\n<li>\n<p>手动创建一个  <code>WhyLIM-shokax</code>  目录，然后在此目录打开终端，输入：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo init</pre></td></tr></table></figure></li>\n<li>\n<p>使用 hexo 创建这个  <code>WhyLIM-shokax</code>  目录，在父目录中打开终端，输入：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo init WhyLIM-shokax</pre></td></tr></table></figure></li>\n</ol>\n<p>例如，我在  <code>D:\\Study\\Project</code>  中执行  <code>hexo init WhyLIM-shokax</code> ，则会自动生成  <code>D:\\Study\\Project\\WhyLIM-shokax</code>  目录。</p>\n<p>现在我们可以在  <code>WhyLIM-shokax</code>  目录中执行  <code>hexo s</code>  来生成静态访问连接来进行访问，默认的端口是 4000。</p>\n<p>Hexo 的默认主题是 landscape。</p>\n<p><img loading=\"lazy\" data-src=\"https://img.limina.top/blog/image-20240521170919101.png\" alt=\"image-20240521170919101\" title=\"Hexo 默认主题\" /></p>\n<h3 id=\"初始化-shokax-主题\"><a class=\"anchor\" href=\"#初始化-shokax-主题\">#</a> 初始化 ShokaX 主题</h3>\n<p>使用  <code>ctrl + x</code>  暂停项目，然后全局安装 ShokaX-CLI：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># hexo init</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">-g</span> shokax-cli</pre></td></tr></table></figure><p>在  <code>WhyLIM-shokax</code>  目录中使用 ShokaX-CLI 安装 shokaX，包管理器使用  <code>pnpm</code> ：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>SXC <span class=\"token function\">install</span> shokaX <span class=\"token parameter variable\">-pm</span> <span class=\"token function\">pnpm</span></pre></td></tr></table></figure><p>更改根目录中  <code>_config.yml</code>  文件中的  <code>theme</code>  为  <code>shokax</code></p>\n<p>刷新页面即可看到新主题</p>\n<p><img loading=\"lazy\" data-src=\"https://img.limina.top/blog/image-20240522155439876.png\" alt=\"image-20240522155439876\" title=\"shokax 主题\" /></p>\n<p>由于我们使用包管理器安装了 shokaX 主题，所以其目录会出现在  <code>node_modules</code>  下</p>\n<p>node 包通常是比较多的，为了修改方便，我们可以为其创建目录链接</p>\n<p>在 PowerShell 中可以使用如下的命令</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>New-Item <span class=\"token parameter variable\">-ItemType</span> Junction <span class=\"token parameter variable\">-Path</span> <span class=\"token string\">\".<span class=\"token entity\" title=\"\\t\">\\t</span>hemes\\shokax\"</span> <span class=\"token parameter variable\">-Target</span> <span class=\"token string\">\".<span class=\"token entity\" title=\"\\n\">\\n</span>ode_modules\\hexo-theme-shokax\"</span></pre></td></tr></table></figure><p>如果你使用 cmd：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mklink /J <span class=\"token string\">\".<span class=\"token entity\" title=\"\\t\">\\t</span>hemes\\shokax\"</span> <span class=\"token string\">\".<span class=\"token entity\" title=\"\\n\">\\n</span>ode_modules\\hexo-theme-shokax\"</span></pre></td></tr></table></figure><h3 id=\"修改站点配置\"><a class=\"anchor\" href=\"#修改站点配置\">#</a> 修改站点配置</h3>\n<p>站点配置文件为  <code>/_config.yml</code></p>\n<h4 id=\"markdown-配置\"><a class=\"anchor\" href=\"#markdown-配置\">#</a> markdown 配置</h4>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">markdown</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">render</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 渲染器设置</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">html</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 过滤 HTML 标签</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">xhtmlOut</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 使用 '/' 来闭合单标签 （比如 &lt;br />）。</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">breaks</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 转换段落里的 '\\n' 到 &lt;br>。</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">linkify</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 将类似 URL 的文本自动转换为链接。</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">typographer</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">quotes</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"“”‘’\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># markdown-it 插件设置</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>toc<span class=\"token punctuation\">-</span>and<span class=\"token punctuation\">-</span>anchor</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 文章目录以及锚点应用的 class 名称，shoka 系主题必须设置成这样</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          <span class=\"token key atrule\">tocClassName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"toc\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token key atrule\">anchorClassName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"anchor\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>multimd<span class=\"token punctuation\">-</span>table</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token key atrule\">multiline</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>          <span class=\"token key atrule\">rowspan</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token key atrule\">headerless</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ./markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>furigana</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>          <span class=\"token key atrule\">fallbackParens</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"()\"</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">plugin</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ./markdown<span class=\"token punctuation\">-</span>it<span class=\"token punctuation\">-</span>spoiler</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"你知道得太多了\"</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token key atrule\">autoprefixer</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"*.min.css\"</span></pre></td></tr></table></figure><h4 id=\"停用默认代码高亮\"><a class=\"anchor\" href=\"#停用默认代码高亮\">#</a> 停用默认代码高亮</h4>\n<p>如果你的 hexo 版本 &lt;= 6.3.0，修改原文件中的：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">highlight</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr></table></figure><p>如果你的 hexo 版本 &gt;= 7.0.0，修改原文件中的：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">syntax_highlighter</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr></table></figure><h4 id=\"文件压缩\"><a class=\"anchor\" href=\"#文件压缩\">#</a> 文件压缩</h4>\n<p>官方建议使用 <a href=\"https://github.com/theme-shoka-x/hexo-lightning-minify\">hexo-lightning-minify</a>，如果你的 SXC core 版本为 0.3+，那么该包已经被安装了，否则：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">pnpm</span> <span class=\"token function\">add</span> hexo-lightning-minify</pre></td></tr></table></figure><p>在  <code>/_config.yml</code>  文件添加配置：</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">minify</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">js</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># ShokaX 自带 esbuild 优化，不建议开启，其他主题建议开启</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 排除文件，接受 string []，需符合 micromatch 格式</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">css</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 开启 CSS 优化</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token key atrule\">targets</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\">= 0.5%\"</span> <span class=\"token comment\"># browserslist 格式的 target</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 排除文件，接受 string []，需符合 micromatch 格式</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">html</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token key atrule\">minifier</span><span class=\"token punctuation\">:</span> html<span class=\"token punctuation\">-</span>minifier</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 开启 HTML 优化</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token key atrule\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 是否保留注释内容</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 排除文件，接受 string []，需符合 micromatch 格式</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 开启图片预处理和自动 WebP 化</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token key atrule\">options</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token key atrule\">avif</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token key atrule\">webp</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 预留配置项，现版本无作用</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token key atrule\">quality</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span> <span class=\"token comment\"># 质量，支持 1-100 的整数、lossless 或 nearLossless</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token key atrule\">effort</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token comment\"># CPU 工作量，0-6 之间的整数 (越低越快)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token key atrule\">replaceSrc</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 自动替换生成 html 中的本地图片链接为 webp 链接</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token comment\"># 我们更建议使用 Service Worker 来在用户侧实现 replaceSrc 的功能，这将能够以一种侵入式更小的方式实现链接替换</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    exclude<span class=\"token punctuation\">:</span></pre></td></tr></table></figure><h3 id=\"修改主题配置\"><a class=\"anchor\" href=\"#修改主题配置\">#</a> 修改主题配置</h3>\n<p>主题配置的模版在  <code>/node_modules/hexo-theme-shokax/_config.yml</code></p>\n<p>为了方便主题升级，我们在根目录复制一个  <code>_config.shokax.yml</code>  文件来进行自定义配置</p>\n<p>详细的配置可以参考<a href=\"https://docs.kaitaku.xyz/guide/theme.html\">官方文档</a>进行</p>\n<p>配置、文件都修改完后，重新构建站点并启动服务器</p>\n<p>在 PowerShell 中：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo clean<span class=\"token punctuation\">;</span> hexo g<span class=\"token punctuation\">;</span> hexo s</pre></td></tr></table></figure><p>如果使用 Linux：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g <span class=\"token operator\">&amp;&amp;</span> hexo s</pre></td></tr></table></figure>",
            "tags": [
                "Hexo",
                "ShokaX",
                "踩坑"
            ]
        }
    ]
}